# Simplexr Backend - Development Dockerfile
FROM node:20-alpine
WORKDIR /app
COPY package*.json ./
RUN npm install
RUN addgroup -g 1001 -S nodejs && adduser -S nodejs -u 1001 -G nodejs && chown -R nodejs:nodejs /app
COPY --chown=nodejs:nodejs src ./src/
COPY --chown=nodejs:nodejs prisma ./prisma/
USER nodejs
ENV NODE_ENV=development
ENV PORT=3000
EXPOSE 3000
CMD ["npx", "tsx", "watch", "--no-cache", "src/server.ts"]
